(()=>{document.addEventListener("DOMContentLoaded",function(){var r=new JustGage({id:"energy-current-gauge",value:0,min:0,max:400,title:"Aktueller Stromverbrauch",label:"Watts/Hour",valueFontColor:"White"});function n(){fetch("fetch_sensors.php").then(e=>e.json()).then(e=>{console.log("Received data:",e);var t=parseFloat(e.energy_current);isNaN(t)?console.error("Invalid energy current value:",e.energy_current):r.refresh(t),document.getElementById("energy-total").innerHTML="Total Consumption Today:  "+e.energy_total+" KW",document.getElementById("energy-current").innerHTML="Current Consumption Office: "+e.energy_current+" Watts/Hour",document.getElementById("temperature-value").innerHTML="Temperature Outside: "+e.temperature_15+" \xB0C",document.getElementById("light-intensity-value").innerHTML="Light intensity outside: "+e.light_2+" lx"}).catch(e=>console.error("Error fetching sensor data:",e))}setInterval(n,1e3),n()});})();
